<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 5: Advanced Features, Best Practices & Deployment</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/theme/black.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/monokai.css">
    <style>
        .reveal h1, .reveal h2, .reveal h3 { text-transform: none; }
        .reveal pre { font-size: 0.5em; width: 100%; }
        .reveal code { max-height: 500px; }
        .two-column { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .diagram { background: white; padding: 20px; border-radius: 10px; color: black; font-family: monospace; }
        .highlight-box { background: rgba(255, 200, 0, 0.2); padding: 20px; border-left: 5px solid #ffc800; }
        .success-box { background: rgba(0, 255, 0, 0.2); padding: 20px; border-left: 5px solid #00ff00; }
        .warning-box { background: rgba(255, 100, 0, 0.2); padding: 20px; border-left: 5px solid #ff6400; }
        .error-box { background: rgba(255, 0, 0, 0.2); padding: 20px; border-left: 5px solid #ff0000; }
    </style>
</head>
<body>
    <div class="reveal">
        <div class="slides">

            <!-- Title Slide -->
            <section data-markdown>
                <textarea data-template>
                    # Module 5
                    ## Advanced Features, Best Practices & Deployment

                    **Pemrograman Web - Semester 3**

                    Duration: 2-3 weeks
                </textarea>
            </section>

            <!-- Learning Objectives -->
            <section data-markdown>
                <textarea data-template>
                    ## Learning Objectives

                    By the end of this module, you will be able to:

                    1. Organize code following industry best practices
                    2. Implement auto-generation features for business logic
                    3. Initialize database with JSON data files
                    4. Configure multiple environments (dev, staging, prod)
                    5. Build production-ready JAR files
                    6. Deploy to cloud platforms (Heroku, AWS, VPS)
                    7. Containerize with Docker
                    8. Monitor and maintain production applications
                    9. Write comprehensive documentation
                    10. Implement performance optimizations
                </textarea>
            </section>

            <!-- Module Overview -->
            <section data-markdown>
                <textarea data-template>
                    ## Module Overview

                    **Part 1: Code Organization & Best Practices**
                    - Project structure
                    - Service layer pattern
                    - DTO pattern

                    **Part 2: Auto-Generation & Data Management**
                    - Auto-generate NIM, codes
                    - Data initialization from JSON
                    - Database migrations

                    **Part 3: Production Build & Deployment**
                    - Environment configuration
                    - Building JAR files
                    - Deployment strategies

                    **Part 4: Monitoring & Maintenance**
                    - Health checks
                    - Logging
                    - Database backups
                </textarea>
            </section>

            <!-- Section 1: Code Organization -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 1: Code Organization
                        ## Best Practices

                        Clean code is maintainable code
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Our Project Structure

                        **From our actual project**:
                        ```
                        src/main/java/com/example/webapp/
                        ├── config/                      # Configuration classes
                        │   ├── SecurityConfig.java      # Spring Security setup
                        │   └── DataInitializer.java     # Database seeding
                        ├── controller/                  # REST controllers
                        │   ├── StudentController.java
                        │   ├── SubjectController.java
                        │   ├── ClassRoomController.java
                        │   └── UserController.java
                        ├── service/                     # Business logic
                        │   ├── StudentService.java      # Interface
                        │   ├── StudentServiceImpl.java  # Implementation
                        │   ├── SubjectService.java
                        │   ├── SubjectServiceImpl.java
                        │   ├── ClassRoomService.java
                        │   └── ClassRoomServiceImpl.java
                        ├── repository/                  # Database access
                        │   ├── StudentRepository.java
                        │   ├── SubjectRepository.java
                        │   └── ClassRoomRepository.java
                        ├── model/                       # Entities
                        │   ├── Student.java
                        │   ├── Subject.java
                        │   └── ClassRoom.java
                        └── WebappApplication.java       # Main class
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Layered Architecture

                        <div class="diagram">
                        ┌──────────────────────────────────────┐
                        │      Presentation Layer              │
                        │   (Controllers, REST APIs)           │
                        │   StudentController.java             │
                        └──────────────┬───────────────────────┘
                                       │
                        ┌──────────────▼───────────────────────┐
                        │      Business Logic Layer            │
                        │   (Services)                         │
                        │   StudentServiceImpl.java            │
                        └──────────────┬───────────────────────┘
                                       │
                        ┌──────────────▼───────────────────────┐
                        │      Data Access Layer               │
                        │   (Repositories)                     │
                        │   StudentRepository.java             │
                        └──────────────┬───────────────────────┘
                                       │
                        ┌──────────────▼───────────────────────┐
                        │      Database Layer                  │
                        │   MongoDB                            │
                        └──────────────────────────────────────┘
                        </div>

                        **Benefits**:
                        - Separation of concerns
                        - Easy to test
                        - Reusable business logic
                        - Maintainable codebase
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Service Layer Pattern

                        **Our actual StudentServiceImpl.java**:
                        ```java
                        package com.example.webapp.service;

                        import com.example.webapp.model.Student;
                        import com.example.webapp.repository.StudentRepository;
                        import org.springframework.beans.factory.annotation.Autowired;
                        import org.springframework.stereotype.Service;
                        import java.util.List;

                        @Service
                        public class StudentServiceImpl implements StudentService {

                            @Autowired
                            private StudentRepository studentRepository;

                            @Override
                            public List<Student> getAllStudents() {
                                return studentRepository.findAll();
                            }

                            @Override
                            public Student createStudent(Student student) {
                                // Auto-generate NIM if not provided
                                if (student.getNim() == null || student.getNim().isEmpty()) {
                                    student.setNim(generateNim(student.getMajor(), student.getBatch()));
                                }
                                return studentRepository.save(student);
                            }

                            @Override
                            public Student updateStudent(String id, Student student) {
                                Student existing = getStudentById(id);
                                existing.setName(student.getName());
                                existing.setMajor(student.getMajor());
                                existing.setBatch(student.getBatch());
                                existing.setEmail(student.getEmail());
                                return studentRepository.save(existing);
                            }

                            @Override
                            public void deleteStudent(String id) {
                                studentRepository.deleteById(id);
                            }

                            @Override
                            public long countStudents() {
                                return studentRepository.count();
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Auto-Generate NIM Logic

                        **From StudentServiceImpl.java**:
                        ```java
                        /**
                         * Generate NIM: AABBBBCCCC
                         * AA = major code (10=SI, 11=TI)
                         * BBBB = batch year (e.g., 2024)
                         * CCCC = sequential number (0001-9999)
                         */
                        private String generateNim(String major, Integer batch) {
                            // Determine major code
                            String majorCode;
                            if ("Sistem Informasi".equals(major)) {
                                majorCode = "10";
                            } else if ("Teknologi Informasi".equals(major)) {
                                majorCode = "11";
                            } else {
                                majorCode = "99"; // Default for unknown major
                            }

                            // Get all existing students
                            List<Student> existingStudents = studentRepository.findAll();

                            // Find max sequence for this major and batch
                            int maxSequence = 0;
                            String prefix = majorCode + batch;

                            for (Student s : existingStudents) {
                                if (s.getNim() != null && s.getNim().startsWith(prefix)) {
                                    try {
                                        int sequence = Integer.parseInt(s.getNim().substring(6));
                                        if (sequence > maxSequence) {
                                            maxSequence = sequence;
                                        }
                                    } catch (Exception e) {
                                        // Skip invalid NIMs
                                    }
                                }
                            }

                            // Generate new NIM with incremented sequence
                            int newSequence = maxSequence + 1;
                            return String.format("%s%04d", prefix, newSequence);
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Auto-Generate Example

                        **Test the auto-generation**:
                        ```javascript
                        // Frontend: Create student WITHOUT NIM
                        const newStudent = {
                            name: "John Doe",
                            major: "Sistem Informasi",
                            batch: 2024,
                            email: "john@student.edu"
                            // No NIM provided!
                        };

                        const response = await fetch('/api/students', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(newStudent)
                        });

                        const created = await response.json();
                        console.log(created.nim);
                        // Output: "1020240001"
                        // 10 = Sistem Informasi
                        // 2024 = batch year
                        // 0001 = first student
                        ```

                        **Benefits**:
                        - ✅ No manual NIM entry
                        - ✅ No duplicate NIMs
                        - ✅ Consistent format
                        - ✅ Easy to identify major/batch from NIM
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Naming Conventions

                        **Classes** (PascalCase):
                        ```java
                        StudentController.java       // ✅ Good
                        Student_Controller.java      // ❌ Bad
                        studentController.java       // ❌ Bad
                        ```

                        **Methods** (camelCase):
                        ```java
                        public Student getStudentById(String id)        // ✅ Good
                        public Student GetStudentByID(String id)        // ❌ Bad
                        public Student get_student_by_id(String id)     // ❌ Bad
                        ```

                        **Variables** (camelCase):
                        ```java
                        String studentName = "John";     // ✅ Good
                        String student_name = "John";    // ❌ Bad
                        String StudentName = "John";     // ❌ Bad
                        ```

                        **Constants** (UPPER_SNAKE_CASE):
                        ```java
                        public static final int MAX_STUDENTS = 100;      // ✅ Good
                        public static final int maxStudents = 100;       // ❌ Bad
                        ```
                    </textarea>
                </section>
            </section>

            <!-- Section 2: Data Initialization -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 2: Data Initialization
                        ## Loading from JSON Files

                        Seeding database with initial data
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### DataInitializer Class

                        **Our actual DataInitializer.java** (config/DataInitializer.java:22-42):
                        ```java
                        package com.example.webapp.config;

                        import com.example.webapp.model.ClassRoom;
                        import com.example.webapp.model.Student;
                        import com.example.webapp.model.Subject;
                        import com.example.webapp.service.*;
                        import com.fasterxml.jackson.core.type.TypeReference;
                        import com.fasterxml.jackson.databind.ObjectMapper;
                        import lombok.extern.slf4j.Slf4j;
                        import org.springframework.beans.factory.annotation.Autowired;
                        import org.springframework.boot.CommandLineRunner;
                        import org.springframework.core.io.ClassPathResource;
                        import org.springframework.stereotype.Component;

                        /**
                         * Data initializer component
                         * Runs on application startup to populate initial data from JSON files
                         * Uses Service layer instead of direct Repository access
                         */
                        @Slf4j
                        @Component
                        public class DataInitializer implements CommandLineRunner {

                            @Autowired
                            private StudentService studentService;

                            @Autowired
                            private SubjectService subjectService;

                            @Autowired
                            private ClassRoomService classRoomService;

                            private final ObjectMapper objectMapper = new ObjectMapper();

                            @Override
                            public void run(String... args) {
                                try {
                                    log.info("Starting data initialization...");
                                    // Only initialize if collections are empty
                                    if (studentService.countStudents() == 0) {
                                        initializeStudents();
                                    }
                                    // ... initialize subjects and classes
                                } catch (Exception e) {
                                    log.error("Error initializing data: {}", e.getMessage());
                                }
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Loading Students from JSON

                        **From DataInitializer.java** (line 75-99):
                        ```java
                        /**
                         * Load students from JSON file
                         */
                        private void initializeStudents() {
                            try {
                                log.info("Loading students from students.json...");

                                // Read JSON file from resources/data folder
                                ClassPathResource resource = new ClassPathResource("data/students.json");
                                InputStream inputStream = resource.getInputStream();

                                // Parse JSON to List of Student objects
                                List<Student> students = objectMapper.readValue(
                                    inputStream,
                                    new TypeReference<List<Student>>() {}
                                );

                                // Save all students using service layer
                                for (Student student : students) {
                                    studentService.createStudent(student);
                                }

                                log.info("Successfully initialized {} students", students.size());

                            } catch (Exception e) {
                                log.error("Failed to load students: {}", e.getMessage(), e);
                            }
                        }
                        ```

                        **Key Points**:
                        - Uses Jackson ObjectMapper for JSON parsing
                        - Loads from `src/main/resources/data/students.json`
                        - Uses service layer (not repository directly)
                        - Proper error handling with logging
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### JSON Data Files

                        **students.json** (resources/data/students.json):
                        ```json
                        [
                          {
                            "nim": "1020240001",
                            "name": "John Doe",
                            "major": "Sistem Informasi",
                            "batch": 2024,
                            "email": "john@student.edu"
                          },
                          {
                            "nim": "1020240002",
                            "name": "Jane Smith",
                            "major": "Sistem Informasi",
                            "batch": 2024,
                            "email": "jane@student.edu"
                          },
                          {
                            "nim": "1120240001",
                            "name": "Bob Johnson",
                            "major": "Teknologi Informasi",
                            "batch": 2024,
                            "email": "bob@student.edu"
                          }
                        ]
                        ```

                        **Benefits**:
                        - Easy to edit (no Java recompilation)
                        - Can import large datasets
                        - Portable across environments
                        - Version controlled
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Loading Classes with Relationships

                        **From DataInitializer.java** (line 172-218):
                        ```java
                        private void initializeClasses() {
                            try {
                                log.info("Loading classes from classes.json...");

                                ClassPathResource resource = new ClassPathResource("data/classes.json");
                                InputStream inputStream = resource.getInputStream();

                                List<ClassRoom> classes = objectMapper.readValue(
                                    inputStream,
                                    new TypeReference<List<ClassRoom>>() {}
                                );

                                // Get all subjects to match names to IDs
                                List<Subject> allSubjects = subjectService.getAllSubjects();

                                for (ClassRoom classRoom : classes) {
                                    // Match subject by name → get ID
                                    allSubjects.stream()
                                        .filter(s -> s.getName().equals(classRoom.getSubjectName()))
                                        .findFirst()
                                        .ifPresent(subject -> classRoom.setSubjectId(subject.getId()));

                                    // Convert student NIMs to student IDs
                                    if (classRoom.getStudentNims() != null) {
                                        List<String> studentIds = new ArrayList<>();
                                        for (String nim : classRoom.getStudentNims()) {
                                            studentService.getAllStudents().stream()
                                                .filter(s -> nim.equals(s.getNim()))
                                                .findFirst()
                                                .ifPresent(student -> studentIds.add(student.getId()));
                                        }
                                        classRoom.setStudentIds(studentIds);
                                    }

                                    classRoomService.createClass(classRoom);
                                }

                                log.info("Successfully initialized {} classes", classes.size());
                            } catch (Exception e) {
                                log.error("Failed to load classes: {}", e.getMessage(), e);
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Data Migration Pattern

                        **From DataInitializer.java** (line 133-167):
                        ```java
                        /**
                         * Migrate existing subjects to add major field based on code prefix
                         */
                        private void migrateSubjectMajors() {
                            try {
                                log.info("Migrating subjects to add major field...");

                                List<Subject> allSubjects = subjectService.getAllSubjects();
                                int migrated = 0;

                                for (Subject subject : allSubjects) {
                                    // Only update if major is null or empty
                                    if (subject.getMajor() == null || subject.getMajor().isEmpty()) {
                                        // Determine major based on code prefix
                                        if (subject.getCode() != null) {
                                            if (subject.getCode().startsWith("SI")) {
                                                subject.setMajor("Sistem Informasi");
                                                subjectService.updateSubject(subject.getId(), subject);
                                                migrated++;
                                            } else if (subject.getCode().startsWith("TI")) {
                                                subject.setMajor("Teknologi Informasi");
                                                subjectService.updateSubject(subject.getId(), subject);
                                                migrated++;
                                            }
                                        }
                                    }
                                }

                                if (migrated > 0) {
                                    log.info("Successfully migrated {} subjects", migrated);
                                } else {
                                    log.info("No subjects needed migration");
                                }
                            } catch (Exception e) {
                                log.error("Failed to migrate subjects: {}", e.getMessage(), e);
                            }
                        }
                        ```

                        **Use case**: Adding new fields to existing data without losing data
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Console Output

                        **When application starts**:
                        ```
                        2024-11-10 10:30:00 INFO  DataInitializer - Starting data initialization...
                        2024-11-10 10:30:00 INFO  DataInitializer - Loading students from students.json...
                        2024-11-10 10:30:01 INFO  DataInitializer - Successfully initialized 25 students from students.json
                        2024-11-10 10:30:01 INFO  DataInitializer - Loading subjects from subjects.json...
                        2024-11-10 10:30:01 INFO  DataInitializer - Successfully initialized 15 subjects from subjects.json
                        2024-11-10 10:30:01 INFO  DataInitializer - Loading classes from classes.json...
                        2024-11-10 10:30:01 INFO  DataInitializer - Added 8 students to class Pemrograman Web A
                        2024-11-10 10:30:01 INFO  DataInitializer - Added 12 students to class Database Systems B
                        2024-11-10 10:30:02 INFO  DataInitializer - Successfully initialized 10 classes from classes.json
                        2024-11-10 10:30:02 INFO  DataInitializer - Data initialization completed
                        ```

                        **Benefits**:
                        - Clear visibility of initialization process
                        - Easy to debug issues
                        - Can see exactly what was loaded
                        - Helps with troubleshooting
                    </textarea>
                </section>
            </section>

            <!-- Section 3: Production Configuration -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 3: Production Configuration
                        ## Building for Deployment

                        Preparing your app for the real world
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### pom.xml Configuration

                        **Our actual pom.xml**:
                        ```xml
                        <?xml version="1.0" encoding="UTF-8"?>
                        <project xmlns="http://maven.apache.org/POM/4.0.0"
                                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                                 xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
                                 https://maven.apache.org/xsd/maven-4.0.0.xsd">
                            <modelVersion>4.0.0</modelVersion>

                            <parent>
                                <groupId>org.springframework.boot</groupId>
                                <artifactId>spring-boot-starter-parent</artifactId>
                                <version>3.2.1</version>
                            </parent>

                            <groupId>com.example</groupId>
                            <artifactId>webapp</artifactId>
                            <version>0.0.1-SNAPSHOT</version>
                            <name>webapp</name>
                            <description>Java Web Project with VueJS and Spring Boot</description>

                            <properties>
                                <java.version>21</java.version>
                            </properties>

                            <dependencies>
                                <!-- Spring Boot Web -->
                                <dependency>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-starter-web</artifactId>
                                </dependency>

                                <!-- Spring Security + OAuth2 -->
                                <dependency>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-starter-security</artifactId>
                                </dependency>
                                <dependency>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-starter-oauth2-client</artifactId>
                                </dependency>

                                <!-- MongoDB -->
                                <dependency>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-starter-data-mongodb</artifactId>
                                </dependency>

                                <!-- Validation -->
                                <dependency>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-starter-validation</artifactId>
                                </dependency>

                                <!-- Lombok (optional) -->
                                <dependency>
                                    <groupId>org.projectlombok</groupId>
                                    <artifactId>lombok</artifactId>
                                    <optional>true</optional>
                                </dependency>
                            </dependencies>
                        </project>
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Build Configuration

                        **pom.xml** (build section):
                        ```xml
                        <build>
                            <plugins>
                                <!-- Maven Compiler Plugin - Java 21 -->
                                <plugin>
                                    <groupId>org.apache.maven.plugins</groupId>
                                    <artifactId>maven-compiler-plugin</artifactId>
                                    <configuration>
                                        <source>21</source>
                                        <target>21</target>
                                        <release>21</release>
                                    </configuration>
                                </plugin>

                                <!-- Spring Boot Maven Plugin -->
                                <plugin>
                                    <groupId>org.springframework.boot</groupId>
                                    <artifactId>spring-boot-maven-plugin</artifactId>
                                    <configuration>
                                        <excludes>
                                            <exclude>
                                                <groupId>org.projectlombok</groupId>
                                                <artifactId>lombok</artifactId>
                                            </exclude>
                                        </excludes>
                                    </configuration>
                                </plugin>
                            </plugins>
                        </build>
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Building JAR File

                        **Clean and build**:
                        ```bash
                        mvn clean package
                        ```

                        **Skip tests** (faster for deployment):
                        ```bash
                        mvn clean package -DskipTests
                        ```

                        **Output**:
                        ```
                        [INFO] Building jar: target/webapp-0.0.1-SNAPSHOT.jar
                        [INFO] ------------------------------------------------------------------------
                        [INFO] BUILD SUCCESS
                        [INFO] ------------------------------------------------------------------------
                        [INFO] Total time:  45.123 s
                        [INFO] Finished at: 2024-11-10T10:30:00+07:00
                        [INFO] ------------------------------------------------------------------------
                        ```

                        **Result**: `target/webapp-0.0.1-SNAPSHOT.jar` (executable JAR file)

                        **Run JAR locally**:
                        ```bash
                        java -jar target/webapp-0.0.1-SNAPSHOT.jar
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Application Properties

                        **Our actual application.properties**:
                        ```properties
                        # Server Configuration
                        server.port=8080

                        # Google OAuth2 Configuration
                        spring.security.oauth2.client.registration.google.client-id=YOUR_GOOGLE_CLIENT_ID
                        spring.security.oauth2.client.registration.google.client-secret=YOUR_GOOGLE_CLIENT_SECRET
                        spring.security.oauth2.client.registration.google.scope=profile,email

                        # MongoDB Configuration (Local)
                        spring.data.mongodb.host=localhost
                        spring.data.mongodb.port=27017
                        spring.data.mongodb.database=webapp_db
                        spring.data.mongodb.username=mongo
                        spring.data.mongodb.password=mongo
                        spring.data.mongodb.authentication-database=admin
                        spring.data.mongodb.auto-index-creation=true

                        # Application Configuration
                        major.options=Sistem Informasi,Teknologi Informasi

                        # Logging (Development)
                        logging.level.org.springframework.security=DEBUG
                        logging.level.org.springframework.web=DEBUG
                        ```

                        **Note**: This is for **development** only!
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Environment-Specific Configuration

                        **Create application-prod.properties** (for production):
                        ```properties
                        # Server Configuration
                        server.port=${PORT:8080}

                        # MongoDB Configuration (Production - from environment)
                        spring.data.mongodb.uri=${MONGODB_URI}

                        # Security - Hide error details in production
                        server.error.include-message=never
                        server.error.include-stacktrace=never
                        server.error.include-exception=false

                        # Logging (Production - less verbose)
                        logging.level.root=WARN
                        logging.level.com.example.webapp=INFO
                        logging.file.name=logs/webapp.log
                        logging.file.max-size=10MB
                        logging.file.max-history=30

                        # OAuth2 (from environment variables)
                        spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
                        spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
                        ```

                        **Run with production profile**:
                        ```bash
                        java -jar webapp.jar --spring.profiles.active=prod
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Environment Variables

                        **Why use environment variables?**
                        - ✅ Keep secrets out of source code
                        - ✅ Different values per environment
                        - ✅ Easy to change without recompiling
                        - ✅ Standard practice for 12-factor apps

                        **Set environment variables**:

                        **Windows**:
                        ```cmd
                        set MONGODB_URI=mongodb://user:pass@localhost:27017/webapp
                        set GOOGLE_CLIENT_ID=your-client-id
                        set GOOGLE_CLIENT_SECRET=your-secret
                        java -jar webapp.jar --spring.profiles.active=prod
                        ```

                        **Linux/macOS**:
                        ```bash
                        export MONGODB_URI="mongodb://user:pass@localhost:27017/webapp"
                        export GOOGLE_CLIENT_ID="your-client-id"
                        export GOOGLE_CLIENT_SECRET="your-secret"
                        java -jar webapp.jar --spring.profiles.active=prod
                        ```

                        **Use in application.properties**:
                        ```properties
                        spring.data.mongodb.uri=${MONGODB_URI}
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Production Checklist

                        <div class="warning-box">
                        **⚠️ Before deploying to production**:

                        **Security**:
                        - [ ] All secrets in environment variables (not in code)
                        - [ ] Error messages don't expose internals
                        - [ ] CORS configured for production domain only
                        - [ ] HTTPS enabled
                        - [ ] Database has authentication enabled
                        - [ ] Strong admin passwords

                        **Performance**:
                        - [ ] Logging level set to WARN or INFO
                        - [ ] Database indexes created
                        - [ ] Connection pooling configured

                        **Reliability**:
                        - [ ] All tests pass
                        - [ ] Health check endpoint working
                        - [ ] Database backup scheduled
                        - [ ] Error handling implemented

                        **Documentation**:
                        - [ ] README.md updated
                        - [ ] API documentation complete
                        - [ ] Deployment guide written
                        </div>
                    </textarea>
                </section>
            </section>

            <!-- Section 4: Deployment -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 4: Deployment
                        ## Going Live!

                        Deploying to production platforms
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Deployment Options

                        | Platform | Difficulty | Cost | Best For |
                        |----------|------------|------|----------|
                        | **Heroku** | ⭐ Easy | Free-$7/mo | Quick demos, learning |
                        | **Railway** | ⭐ Easy | Free-$5/mo | Modern alternative |
                        | **Render** | ⭐ Easy | Free-$7/mo | Automatic deploys |
                        | **Digital Ocean** | ⭐⭐ Medium | $6-$12/mo | Full VPS control |
                        | **AWS Elastic Beanstalk** | ⭐⭐ Medium | Pay-as-you-go | Scalable apps |
                        | **AWS EC2** | ⭐⭐⭐ Hard | Pay-as-you-go | Maximum control |
                        | **Google Cloud Run** | ⭐⭐ Medium | Pay-as-you-go | Containerized |

                        **For this course, we recommend**: Heroku or Railway (easiest)

                        **For production**: Digital Ocean or AWS
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Heroku Deployment - Preparation

                        **1. Create Procfile** (in project root):
                        ```
                        web: java -jar target/webapp-0.0.1-SNAPSHOT.jar --server.port=$PORT
                        ```

                        **2. Create system.properties**:
                        ```properties
                        java.runtime.version=21
                        ```

                        **3. Update application.properties**:
                        ```properties
                        # Use PORT environment variable
                        server.port=${PORT:8080}

                        # Use MONGODB_URI from Heroku addon
                        spring.data.mongodb.uri=${MONGODB_URI}
                        ```

                        **4. Ensure Git repository**:
                        ```bash
                        git init
                        git add .
                        git commit -m "Prepare for Heroku deployment"
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Heroku Deployment - Steps

                        **Install Heroku CLI**:
                        ```bash
                        # Windows (Chocolatey)
                        choco install heroku-cli

                        # macOS
                        brew install heroku/brew/heroku

                        # Linux
                        curl https://cli-assets.heroku.com/install.sh | sh
                        ```

                        **Login**:
                        ```bash
                        heroku login
                        ```

                        **Create app**:
                        ```bash
                        heroku create webapp-demo-2024
                        # Output: https://webapp-demo-2024.herokuapp.com/
                        ```

                        **Add MongoDB**:
                        ```bash
                        heroku addons:create mongolab:sandbox
                        # Automatically sets MONGODB_URI
                        ```

                        **Set environment variables**:
                        ```bash
                        heroku config:set GOOGLE_CLIENT_ID="your-id"
                        heroku config:set GOOGLE_CLIENT_SECRET="your-secret"
                        ```

                        **Deploy**:
                        ```bash
                        git push heroku main
                        ```

                        **Open**:
                        ```bash
                        heroku open
                        ```

                        See detailed guide: `deployment-guides/heroku-deployment.md`
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### VPS Deployment Overview

                        **Digital Ocean / Linode / Vultr**:

                        **1. Create VPS ($6/month)**:
                        - Ubuntu 22.04 LTS
                        - 1 GB RAM
                        - SSH access

                        **2. Install dependencies**:
                        ```bash
                        # Update system
                        sudo apt update && sudo apt upgrade -y

                        # Install Java 21
                        sudo apt install openjdk-21-jdk -y

                        # Install MongoDB
                        sudo apt install mongodb-org -y

                        # Install Nginx (reverse proxy)
                        sudo apt install nginx -y
                        ```

                        **3. Upload JAR**:
                        ```bash
                        scp target/webapp-0.0.1-SNAPSHOT.jar user@your-server:/home/user/
                        ```

                        **4. Create systemd service**

                        **5. Configure Nginx**

                        **6. Enable HTTPS with Let's Encrypt**

                        See detailed guide: `deployment-guides/vps-deployment.md`
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Systemd Service Configuration

                        **Create /etc/systemd/system/webapp.service**:
                        ```ini
                        [Unit]
                        Description=Academic Web Application
                        After=syslog.target network.target mongod.service

                        [Service]
                        Type=simple
                        User=webapp
                        WorkingDirectory=/home/webapp
                        ExecStart=/usr/bin/java -jar /home/webapp/webapp-0.0.1-SNAPSHOT.jar --spring.profiles.active=prod
                        StandardOutput=journal
                        StandardError=journal
                        Restart=always
                        RestartSec=10

                        # Environment variables
                        Environment="MONGODB_URI=mongodb://localhost:27017/webapp"
                        Environment="GOOGLE_CLIENT_ID=your-client-id"
                        Environment="GOOGLE_CLIENT_SECRET=your-client-secret"

                        [Install]
                        WantedBy=multi-user.target
                        ```

                        **Enable and start**:
                        ```bash
                        sudo systemctl daemon-reload
                        sudo systemctl enable webapp
                        sudo systemctl start webapp
                        sudo systemctl status webapp
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Nginx Configuration

                        **Create /etc/nginx/sites-available/webapp**:
                        ```nginx
                        server {
                            listen 80;
                            server_name your-domain.com www.your-domain.com;

                            # Logs
                            access_log /var/log/nginx/webapp-access.log;
                            error_log /var/log/nginx/webapp-error.log;

                            # Reverse proxy to Spring Boot
                            location / {
                                proxy_pass http://localhost:8080;
                                proxy_set_header Host $host;
                                proxy_set_header X-Real-IP $remote_addr;
                                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                                proxy_set_header X-Forwarded-Proto $scheme;

                                # WebSocket support
                                proxy_http_version 1.1;
                                proxy_set_header Upgrade $http_upgrade;
                                proxy_set_header Connection "upgrade";
                            }

                            # Increase upload size
                            client_max_body_size 10M;
                        }
                        ```

                        **Enable site**:
                        ```bash
                        sudo ln -s /etc/nginx/sites-available/webapp /etc/nginx/sites-enabled/
                        sudo nginx -t
                        sudo systemctl reload nginx
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### HTTPS with Let's Encrypt

                        **Install Certbot**:
                        ```bash
                        sudo apt install certbot python3-certbot-nginx -y
                        ```

                        **Obtain SSL certificate**:
                        ```bash
                        sudo certbot --nginx -d your-domain.com -d www.your-domain.com
                        ```

                        **Follow prompts**:
                        ```
                        Enter email address: your@email.com
                        Agree to terms: (Y)es
                        Redirect HTTP to HTTPS: 2 (Redirect)
                        ```

                        **Result**:
                        ```
                        Successfully received certificate.
                        Certificate is saved at: /etc/letsencrypt/live/your-domain.com/fullchain.pem
                        Key is saved at: /etc/letsencrypt/live/your-domain.com/privkey.pem
                        This certificate expires on 2025-02-10.
                        ```

                        **Auto-renewal** (automatically configured):
                        ```bash
                        # Test renewal
                        sudo certbot renew --dry-run
                        ```

                        **Your site is now at**: `https://your-domain.com` 🎉
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Docker Deployment

                        **Create Dockerfile**:
                        ```dockerfile
                        FROM openjdk:21-jdk-slim

                        # Set working directory
                        WORKDIR /app

                        # Copy JAR file
                        COPY target/webapp-0.0.1-SNAPSHOT.jar app.jar

                        # Expose port
                        EXPOSE 8080

                        # Run application
                        ENTRYPOINT ["java", "-jar", "app.jar"]
                        ```

                        **Build image**:
                        ```bash
                        docker build -t webapp:latest .
                        ```

                        **Run container**:
                        ```bash
                        docker run -p 8080:8080 \
                          -e MONGODB_URI=mongodb://mongo:27017/webapp \
                          -e GOOGLE_CLIENT_ID=your-id \
                          -e GOOGLE_CLIENT_SECRET=your-secret \
                          webapp:latest
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Docker Compose

                        **Create docker-compose.yml**:
                        ```yaml
                        version: '3.8'

                        services:
                          app:
                            build: .
                            ports:
                              - "8080:8080"
                            environment:
                              MONGODB_URI: mongodb://mongo:27017/webapp
                              GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
                              GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
                            depends_on:
                              - mongo
                            restart: unless-stopped

                          mongo:
                            image: mongo:7.0
                            ports:
                              - "27017:27017"
                            volumes:
                              - mongo-data:/data/db
                            environment:
                              MONGO_INITDB_ROOT_USERNAME: admin
                              MONGO_INITDB_ROOT_PASSWORD: password123
                            restart: unless-stopped

                        volumes:
                          mongo-data:
                        ```

                        **Start services**:
                        ```bash
                        docker-compose up -d
                        ```

                        **Stop services**:
                        ```bash
                        docker-compose down
                        ```
                    </textarea>
                </section>
            </section>

            <!-- Section 5: Monitoring & Maintenance -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 5: Monitoring & Maintenance
                        ## Keeping Your App Healthy

                        Production isn't the end - it's the beginning!
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Health Check Endpoint

                        **Create HealthController.java**:
                        ```java
                        package com.example.webapp.controller;

                        import org.springframework.beans.factory.annotation.Autowired;
                        import org.springframework.data.mongodb.core.MongoTemplate;
                        import org.springframework.http.ResponseEntity;
                        import org.springframework.web.bind.annotation.GetMapping;
                        import org.springframework.web.bind.annotation.RequestMapping;
                        import org.springframework.web.bind.annotation.RestController;

                        import java.time.LocalDateTime;
                        import java.util.HashMap;
                        import java.util.Map;

                        @RestController
                        @RequestMapping("/api/health")
                        public class HealthController {

                            @Autowired
                            private MongoTemplate mongoTemplate;

                            @GetMapping
                            public ResponseEntity<Map<String, Object>> healthCheck() {
                                Map<String, Object> health = new HashMap<>();
                                health.put("status", "UP");
                                health.put("timestamp", LocalDateTime.now());

                                // Check database connection
                                try {
                                    mongoTemplate.getDb().getName();
                                    health.put("database", "UP");
                                } catch (Exception e) {
                                    health.put("database", "DOWN");
                                    health.put("status", "DOWN");
                                    health.put("error", e.getMessage());
                                }

                                return ResponseEntity.ok(health);
                            }

                            @GetMapping("/version")
                            public ResponseEntity<Map<String, String>> version() {
                                Map<String, String> info = new HashMap<>();
                                info.put("version", "1.0.0");
                                info.put("build", "2024-11-10");
                                info.put("name", "Academic Web Application");
                                return ResponseEntity.ok(info);
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Testing Health Endpoint

                        **Test locally**:
                        ```bash
                        curl http://localhost:8080/api/health
                        ```

                        **Response (healthy)**:
                        ```json
                        {
                          "status": "UP",
                          "database": "UP",
                          "timestamp": "2024-11-10T10:30:00"
                        }
                        ```

                        **Response (unhealthy)**:
                        ```json
                        {
                          "status": "DOWN",
                          "database": "DOWN",
                          "timestamp": "2024-11-10T10:30:00",
                          "error": "Connection refused"
                        }
                        ```

                        **Use for**:
                        - Automated monitoring (Uptime Robot, Pingdom)
                        - Load balancer health checks
                        - CI/CD deployment verification
                        - Quick status check
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Logging with SLF4J

                        **Add to any class**:
                        ```java
                        import org.slf4j.Logger;
                        import org.slf4j.LoggerFactory;

                        @RestController
                        public class StudentController {

                            private static final Logger logger = LoggerFactory.getLogger(StudentController.class);

                            @PostMapping("/api/students")
                            public ResponseEntity<Student> createStudent(@RequestBody Student student) {
                                logger.info("Creating student: {}", student.getName());

                                try {
                                    Student created = studentService.createStudent(student);
                                    logger.info("Student created successfully with NIM: {}", created.getNim());
                                    return ResponseEntity.ok(created);
                                } catch (Exception e) {
                                    logger.error("Error creating student: {}", e.getMessage(), e);
                                    throw e;
                                }
                            }

                            @DeleteMapping("/api/students/{id}")
                            public ResponseEntity<Void> deleteStudent(@PathVariable String id) {
                                logger.warn("Deleting student with ID: {}", id);
                                studentService.deleteStudent(id);
                                return ResponseEntity.noContent().build();
                            }
                        }
                        ```

                        **Log Levels**:
                        - `logger.error()` - Critical errors
                        - `logger.warn()` - Warnings (delete operations)
                        - `logger.info()` - Important events
                        - `logger.debug()` - Detailed debugging (dev only)
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Logging Configuration

                        **application-prod.properties**:
                        ```properties
                        # Logging configuration
                        logging.level.root=WARN
                        logging.level.com.example.webapp=INFO
                        logging.level.org.springframework.web=WARN
                        logging.level.org.springframework.security=WARN

                        # Log to file
                        logging.file.name=logs/webapp.log
                        logging.file.max-size=10MB
                        logging.file.max-history=30

                        # Log pattern
                        logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
                        logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
                        ```

                        **View logs**:
                        ```bash
                        # Tail logs in real-time
                        tail -f logs/webapp.log

                        # View last 100 lines
                        tail -n 100 logs/webapp.log

                        # Search for errors
                        grep "ERROR" logs/webapp.log

                        # Systemd logs (if using systemd)
                        sudo journalctl -u webapp -f
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Database Backups

                        **Manual backup**:
                        ```bash
                        # Backup MongoDB
                        mongodump --db webapp_db --out ./backup-$(date +%Y-%m-%d)

                        # Output:
                        # backup-2024-11-10/
                        # └── webapp_db/
                        #     ├── students.bson
                        #     ├── students.metadata.json
                        #     ├── subjects.bson
                        #     └── ...
                        ```

                        **Restore from backup**:
                        ```bash
                        mongorestore --db webapp_db ./backup-2024-11-10/webapp_db
                        ```

                        **Backup with compression**:
                        ```bash
                        mongodump --db webapp_db --gzip --out ./backup
                        ```

                        **Automated backups (cron)**:
                        ```bash
                        # Edit crontab
                        crontab -e

                        # Add line (backup daily at 2 AM)
                        0 2 * * * mongodump --db webapp_db --out /backups/$(date +\%Y-\%m-\%d) > /var/log/backup.log 2>&1

                        # Delete old backups (keep last 7 days)
                        0 3 * * * find /backups -type d -mtime +7 -exec rm -rf {} +
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Monitoring Commands

                        **Check application status**:
                        ```bash
                        # Systemd service
                        sudo systemctl status webapp

                        # Is it running?
                        ps aux | grep java

                        # Check port
                        sudo lsof -i :8080
                        ```

                        **System resources**:
                        ```bash
                        # Disk space
                        df -h

                        # Memory usage
                        free -h

                        # CPU and processes
                        htop

                        # Network connections
                        netstat -tuln | grep 8080
                        ```

                        **Application logs**:
                        ```bash
                        # View logs
                        sudo journalctl -u webapp -f

                        # Last 100 lines
                        sudo journalctl -u webapp -n 100

                        # Today's logs
                        sudo journalctl -u webapp --since today

                        # Errors only
                        sudo journalctl -u webapp -p err
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Management Commands

                        **Application management**:
                        ```bash
                        # Start
                        sudo systemctl start webapp

                        # Stop
                        sudo systemctl stop webapp

                        # Restart (after code update)
                        sudo systemctl restart webapp

                        # Status
                        sudo systemctl status webapp

                        # Enable (start on boot)
                        sudo systemctl enable webapp

                        # Disable
                        sudo systemctl disable webapp
                        ```

                        **Nginx management**:
                        ```bash
                        # Restart
                        sudo systemctl restart nginx

                        # Reload config (no downtime)
                        sudo systemctl reload nginx

                        # Test config
                        sudo nginx -t

                        # View logs
                        sudo tail -f /var/log/nginx/webapp-access.log
                        sudo tail -f /var/log/nginx/webapp-error.log
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Updating Application

                        **Method 1: Upload new JAR**:
                        ```bash
                        # Build locally
                        mvn clean package -DskipTests

                        # Upload to server
                        scp target/webapp-0.0.1-SNAPSHOT.jar user@server:/home/user/

                        # SSH to server
                        ssh user@server

                        # Stop service
                        sudo systemctl stop webapp

                        # Backup old JAR
                        mv webapp-0.0.1-SNAPSHOT.jar webapp-0.0.1-SNAPSHOT.jar.backup

                        # Move new JAR
                        mv webapp-0.0.1-SNAPSHOT.jar.new webapp-0.0.1-SNAPSHOT.jar

                        # Start service
                        sudo systemctl start webapp

                        # Check status
                        sudo systemctl status webapp
                        ```

                        **Method 2: Pull from Git**:
                        ```bash
                        # SSH to server
                        ssh user@server
                        cd webapp

                        # Pull latest code
                        git pull origin main

                        # Build
                        mvn clean package -DskipTests

                        # Restart service
                        sudo systemctl restart webapp
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Troubleshooting Guide

                        **Application won't start**:
                        ```bash
                        # Check logs
                        sudo journalctl -u webapp -n 100

                        # Check Java version
                        java -version
                        # Should be 21+

                        # Check if port is already in use
                        sudo lsof -i :8080

                        # Test JAR manually
                        java -jar /path/to/webapp.jar
                        ```

                        **MongoDB connection failed**:
                        ```bash
                        # Is MongoDB running?
                        sudo systemctl status mongod

                        # Try to connect
                        mongosh -u webapp_user -p

                        # Check MongoDB logs
                        sudo tail -f /var/log/mongodb/mongod.log
                        ```

                        **Nginx 502 Bad Gateway**:
                        ```bash
                        # Is Spring Boot running?
                        sudo systemctl status webapp

                        # Can Nginx reach Spring Boot?
                        curl http://localhost:8080/api/health

                        # Check Nginx config
                        sudo nginx -t

                        # Check Nginx error log
                        sudo tail -f /var/log/nginx/error.log
                        ```
                    </textarea>
                </section>
            </section>

            <!-- Section 6: Best Practices -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Part 6: Best Practices
                        ## Professional Development

                        Writing production-ready code
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Error Handling

                        **Global Exception Handler**:
                        ```java
                        package com.example.webapp.exception;

                        import org.springframework.http.HttpStatus;
                        import org.springframework.http.ResponseEntity;
                        import org.springframework.web.bind.MethodArgumentNotValidException;
                        import org.springframework.web.bind.annotation.ExceptionHandler;
                        import org.springframework.web.bind.annotation.RestControllerAdvice;

                        import java.util.HashMap;
                        import java.util.Map;

                        @RestControllerAdvice
                        public class GlobalExceptionHandler {

                            @ExceptionHandler(MethodArgumentNotValidException.class)
                            public ResponseEntity<Map<String, String>> handleValidationErrors(
                                    MethodArgumentNotValidException ex) {
                                Map<String, String> errors = new HashMap<>();
                                ex.getBindingResult().getFieldErrors().forEach(error ->
                                    errors.put(error.getField(), error.getDefaultMessage())
                                );
                                return ResponseEntity.badRequest().body(errors);
                            }

                            @ExceptionHandler(ResourceNotFoundException.class)
                            public ResponseEntity<Map<String, String>> handleNotFound(
                                    ResourceNotFoundException ex) {
                                Map<String, String> error = new HashMap<>();
                                error.put("error", ex.getMessage());
                                return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);
                            }

                            @ExceptionHandler(Exception.class)
                            public ResponseEntity<Map<String, String>> handleGenericError(Exception ex) {
                                Map<String, String> error = new HashMap<>();
                                error.put("error", "Internal server error");
                                // Don't expose internal details in production!
                                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(error);
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Custom Exceptions

                        **ResourceNotFoundException.java**:
                        ```java
                        package com.example.webapp.exception;

                        public class ResourceNotFoundException extends RuntimeException {
                            public ResourceNotFoundException(String message) {
                                super(message);
                            }
                        }
                        ```

                        **DuplicateResourceException.java**:
                        ```java
                        package com.example.webapp.exception;

                        public class DuplicateResourceException extends RuntimeException {
                            public DuplicateResourceException(String message) {
                                super(message);
                            }
                        }
                        ```

                        **Usage in service**:
                        ```java
                        @Override
                        public Student getStudentById(String id) {
                            return studentRepository.findById(id)
                                .orElseThrow(() -> new ResourceNotFoundException(
                                    "Student not found with id: " + id
                                ));
                        }

                        @Override
                        public Student createStudent(Student student) {
                            if (studentRepository.existsByNim(student.getNim())) {
                                throw new DuplicateResourceException(
                                    "Student with NIM " + student.getNim() + " already exists"
                                );
                            }
                            return studentRepository.save(student);
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Security Best Practices

                        **1. Never expose sensitive data**:
                        ```java
                        // ❌ BAD: Exposing password
                        @GetMapping("/api/users/{id}")
                        public User getUser(@PathVariable String id) {
                            return userRepository.findById(id);  // Contains password!
                        }

                        // ✅ GOOD: Use DTO without sensitive fields
                        @GetMapping("/api/users/{id}")
                        public UserDTO getUser(@PathVariable String id) {
                            User user = userRepository.findById(id);
                            return UserDTO.fromEntity(user);  // No password
                        }
                        ```

                        **2. Validate all inputs**:
                        ```java
                        @PostMapping("/api/students")
                        public ResponseEntity<Student> createStudent(
                                @Valid @RequestBody Student student) {  // @Valid annotation!
                            // Validation happens automatically
                            return ResponseEntity.ok(studentService.createStudent(student));
                        }
                        ```

                        **3. Use parameterized queries** (Spring Data does this automatically)

                        **4. Configure CORS properly**:
                        ```java
                        @Configuration
                        public class CorsConfig {
                            @Bean
                            public WebMvcConfigurer corsConfigurer() {
                                return new WebMvcConfigurer() {
                                    @Override
                                    public void addCorsMappings(CorsRegistry registry) {
                                        registry.addMapping("/api/**")
                                            .allowedOrigins("https://your-frontend.com")  // Not "*"!
                                            .allowedMethods("GET", "POST", "PUT", "DELETE");
                                    }
                                };
                            }
                        }
                        ```
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Performance Optimization

                        **1. Use pagination for large datasets**:
                        ```java
                        @GetMapping("/api/students")
                        public Page<Student> getStudents(
                                @RequestParam(defaultValue = "0") int page,
                                @RequestParam(defaultValue = "20") int size) {
                            Pageable pageable = PageRequest.of(page, size);
                            return studentRepository.findAll(pageable);
                        }
                        ```

                        **2. Create database indexes**:
                        ```java
                        @Document(collection = "students")
                        @CompoundIndex(name = "nim_idx", def = "{'nim': 1}", unique = true)
                        @CompoundIndex(name = "batch_major_idx", def = "{'batch': 1, 'major': 1}")
                        public class Student {
                            // Indexes speed up queries!
                        }
                        ```

                        **3. Use caching for frequently accessed data**:
                        ```java
                        @Service
                        public class SubjectService {

                            @Cacheable("subjects")
                            public List<Subject> getAllSubjects() {
                                return subjectRepository.findAll();
                            }

                            @CacheEvict(value = "subjects", allEntries = true)
                            public Subject createSubject(Subject subject) {
                                return subjectRepository.save(subject);
                            }
                        }
                        ```

                        **4. Optimize queries** - fetch only what you need
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Documentation

                        **README.md**:
                        ```markdown
                        # Academic Management System

                        Full-stack web application for managing students, subjects, and classes.

                        ## Features

                        - 👥 Student Management (CRUD)
                        - 📚 Subject Management
                        - 🏫 Class Management with enrollment
                        - 🔐 Authentication (BCrypt + OAuth2 Google)
                        - 🛡️ Role-Based Access Control (Admin/User)
                        - 📱 Responsive UI (Bootstrap 5 + Vue.js 3)

                        ## Tech Stack

                        - **Backend**: Java 21, Spring Boot 3.2.1, Spring Security
                        - **Frontend**: Vue.js 3, Bootstrap 5
                        - **Database**: MongoDB
                        - **Authentication**: BCrypt, OAuth2

                        ## Installation

                        ### Prerequisites
                        - Java 21+
                        - Maven 3.6+
                        - MongoDB 7.0+

                        ### Steps
                        1. Clone repository: `git clone https://github.com/user/webapp.git`
                        2. Configure `application.properties`
                        3. Run: `mvn spring-boot:run`
                        4. Open: `http://localhost:8080`

                        ## Default Credentials

                        - Admin: `admin` / `admin123`
                        - User: `user` / `user123`

                        ## API Documentation

                        See [API.md](API.md)

                        ## License

                        MIT License
                        ```
                    </textarea>
                </section>
            </section>

            <!-- Section 7: Final Project -->
            <section>
                <section data-markdown>
                    <textarea data-template>
                        ## Final Project
                        ## Academic Management System

                        Putting it all together
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Final Project Requirements

                        **Functional Requirements**:
                        1. ✅ **Full CRUD** for Students, Subjects, Classes
                        2. ✅ **Authentication** with BCrypt password encryption
                        3. ✅ **Authorization** with role-based access control (Admin/User)
                        4. ✅ **Enrollment system** (students can enroll/drop classes)
                        5. ✅ **Auto-generation** of NIM, subject codes, class codes
                        6. ✅ **Data validation** (frontend HTML5 + backend Jakarta Bean Validation)
                        7. ✅ **Data initialization** from JSON files
                        8. ✅ **Responsive UI** with Vue.js 3 & Bootstrap 5

                        **Deployment Requirements**:
                        9. ✅ **Production build** (JAR file)
                        10. ✅ **Deployed** to cloud platform (Heroku/AWS/VPS)
                        11. ✅ **HTTPS** enabled
                        12. ✅ **Documentation** (README, API docs, deployment guide)

                        **Bonus Features** (+10% each):
                        - OAuth2 Google Login
                        - Search & filter functionality
                        - Export data (PDF/Excel)
                        - Dashboard with statistics
                        - Email notifications
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Project Submission

                        **Due**: End of semester (Week 14)

                        **Deliverables**:
                        1. **Source code** on GitHub (public repository)
                        2. **Deployed application** with public URL
                        3. **Documentation**:
                           - README.md (installation, features, tech stack)
                           - API.md (endpoint documentation)
                           - DEPLOYMENT.md (how you deployed)
                        4. **Demo video** (5-10 minutes on YouTube)
                        5. **Presentation slides** (for final presentation)
                        6. **Test credentials** for admin and user accounts

                        **Presentation** (Week 14):
                        - 10 minutes per team
                        - Live demo of deployed app
                        - Architecture overview
                        - Code walkthrough (interesting parts)
                        - Challenges faced & how you solved them
                        - Q&A

                        **Submit to**: [Learning management system]
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Grading Rubric

                        | Category | Weight | Description |
                        |----------|--------|-------------|
                        | **Functionality** | 30% | All required features working correctly |
                        | **Code Quality** | 20% | Clean, organized, follows best practices |
                        | **UI/UX** | 15% | Responsive, user-friendly, professional |
                        | **Security** | 15% | Authentication, authorization, validation |
                        | **Deployment** | 10% | Deployed and accessible online with HTTPS |
                        | **Documentation** | 5% | Complete, clear, helpful |
                        | **Presentation** | 5% | Clear, confident, answers questions |
                        | **Bonus** | +10-30% | Extra features beyond requirements |

                        **Total**: 100% + up to 30% bonus

                        **Grading Scale**:
                        - A: 85-100+
                        - B: 70-84
                        - C: 60-69
                        - D: 50-59
                        - F: <50
                    </textarea>
                </section>

                <section data-markdown>
                    <textarea data-template>
                        ### Tips for Success

                        **Development**:
                        - ✅ Start early - don't wait until last minute
                        - ✅ Test frequently as you build
                        - ✅ Commit to Git regularly with clear messages
                        - ✅ Use branches for new features
                        - ✅ Ask questions in class or Discord

                        **Deployment**:
                        - ✅ Test locally before deploying
                        - ✅ Read deployment guides carefully
                        - ✅ Keep secrets in environment variables
                        - ✅ Check logs if something doesn't work

                        **Documentation**:
                        - ✅ Write README as you go
                        - ✅ Include screenshots
                        - ✅ Document any issues you faced
                        - ✅ Proofread before submission

                        **Presentation**:
                        - ✅ Practice your demo beforehand
                        - ✅ Have backup plan if internet fails
                        - ✅ Be prepared to explain your code
                        - ✅ Be honest about challenges

                        **Remember**: It's okay to not be perfect. Show what you learned!
                    </textarea>
                </section>
            </section>

            <!-- Summary -->
            <section data-markdown>
                <textarea data-template>
                    ## Module 5 Summary

                    **What we covered**:

                    **Part 1: Code Organization**
                    - Layered architecture (Controller → Service → Repository)
                    - Service layer pattern with business logic
                    - Auto-generation of NIM with proper algorithm

                    **Part 2: Data Initialization**
                    - CommandLineRunner for startup tasks
                    - Loading data from JSON files
                    - Database migrations

                    **Part 3: Production Configuration**
                    - Environment-specific properties
                    - Environment variables for secrets
                    - Building executable JAR files

                    **Part 4: Deployment**
                    - Heroku deployment (easiest)
                    - VPS deployment with systemd + Nginx
                    - Docker containerization
                    - HTTPS with Let's Encrypt

                    **Part 5: Monitoring & Maintenance**
                    - Health check endpoints
                    - Logging with SLF4J
                    - Database backups
                    - Troubleshooting guide

                    **Part 6: Best Practices**
                    - Error handling
                    - Security practices
                    - Performance optimization
                    - Documentation
                </textarea>
            </section>

            <!-- Course Summary -->
            <section data-markdown>
                <textarea data-template>
                    ## Full Course Summary

                    **Module 1: Frontend Fundamentals**
                    - HTML5, CSS3, Bootstrap 5
                    - JavaScript ES6+
                    - Vue.js 3 reactive framework

                    **Module 2: Backend with Spring Boot**
                    - Spring Boot setup
                    - MVC pattern
                    - REST APIs

                    **Module 3: Database Integration**
                    - MongoDB setup
                    - Spring Data MongoDB
                    - Full-stack integration

                    **Module 4: Authentication & Security**
                    - Data validation
                    - BCrypt password hashing
                    - Spring Security
                    - OAuth2 Google Login
                    - Role-Based Access Control

                    **Module 5: Deployment & Best Practices**
                    - Code organization
                    - Production configuration
                    - Cloud deployment
                    - Monitoring & maintenance

                    **You are now a full-stack web developer!** 🎉
                </textarea>
            </section>

            <!-- Resources -->
            <section data-markdown>
                <textarea data-template>
                    ## Additional Resources

                    **Deployment Platforms**:
                    - Heroku: https://www.heroku.com/
                    - Railway: https://railway.app/
                    - Render: https://render.com/
                    - Digital Ocean: https://www.digitalocean.com/
                    - AWS: https://aws.amazon.com/free/

                    **Documentation**:
                    - Spring Boot Docs: https://spring.io/projects/spring-boot
                    - Spring Data MongoDB: https://spring.io/projects/spring-data-mongodb
                    - Vue.js 3: https://vuejs.org/
                    - MongoDB Manual: https://docs.mongodb.com/

                    **Learning Resources**:
                    - Baeldung (Spring): https://www.baeldung.com/
                    - Spring Guides: https://spring.io/guides
                    - MDN Web Docs: https://developer.mozilla.org/
                    - Vue Mastery: https://www.vuemastery.com/

                    **Deployment Guides**:
                    - Heroku: `deployment-guides/heroku-deployment.md`
                    - VPS: `deployment-guides/vps-deployment.md`

                    **Good luck with your final project!** 🚀
                </textarea>
            </section>

            <!-- Q&A -->
            <section data-markdown>
                <textarea data-template>
                    ## Questions?

                    **Thank you for your attention!**

                    **Contact**:
                    - Email: instructor@university.edu
                    - Office Hours: Monday & Wednesday, 2-4 PM
                    - Discord: [Course Discord Server]

                    **Next Steps**:
                    1. Complete Lab Exercise 5
                    2. Start working on final project
                    3. Schedule consultation if needed

                    **Remember**: The best way to learn is by doing!

                    **Happy coding!** 💻
                </textarea>
            </section>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/markdown/markdown.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/highlight/highlight.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@4.5.0/plugin/notes/notes.js"></script>
    <script>
        Reveal.initialize({
            hash: true,
            slideNumber: true,
            transition: 'slide',
            plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
        });
    </script>
</body>
</html>
